package br.com.lotto.service.frequencia.analise;

import java.util.List;
import java.util.concurrent.atomic.AtomicInteger;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import br.com.lotto.dao.MegaSenaRepository;
import br.com.lotto.dto.Configuracoes;
import br.com.lotto.service.Analize;

@Service
public class AnaliseFrequencia implements Analize {

	@Autowired
	private MegaSenaRepository megaSenaRepository;

	@Override
	public void init() {
		Long countSorteio = this.megaSenaRepository.count();
		AtomicInteger i = new AtomicInteger();
		Configuracoes configuracoes = new Configuracoes();
		for (; i.get() < countSorteio.intValue(); i.incrementAndGet()) {
			List<Object[]> listaFrequ = this.megaSenaRepository.getFrequencia(i.get());
			
			listaFrequ.stream().forEach(f -> {
				Object[] freq = f;
				System.out.println("Sorteio : " + i.get() + " - Número : " + freq[0] + " - Frequência : " + freq[1]);
			});
			
		
		}

	}

}
